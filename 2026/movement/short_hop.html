<!DOCTYPE html>
<html>
<head>
	<title>Short Hop</title>
	<base href="../">
	<link rel="shortcut icon" type="image/png" href="favicon.png">
	<div id="head-placeholder"></div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
	<script src="js/script.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
	<script>
		$(function() {
			$('#head-placeholder').load('navigation/head_content.html');
			$('#topbar').load('navigation/topbar.html');
			$('#sidebar').load('navigation/sidebar.html');
			$('#bottombar').load('navigation/bottombar.html');
		});
	</script>
	<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.0.1/highlight.min.js"></script>
	<!-- Syntax highlighting for GDScript. -->
	<script>hljs.registerLanguage("gdscript",function(){"use strict";var e=e||{};function r(e){return{aliases:["godot","gdscript"],keywords:{keyword:"and in not or self void as assert breakpoint class class_name extends is func setget signal tool yield const enum export onready static var break continue if elif else for pass return match while remote sync master puppet remotesync mastersync puppetsync",built_in:"Color8 ColorN abs acos asin atan atan2 bytes2var cartesian2polar ceil char clamp convert cos cosh db2linear decimals dectime deg2rad dict2inst ease exp floor fmod fposmod funcref get_stack hash inst2dict instance_from_id inverse_lerp is_equal_approx is_inf is_instance_valid is_nan is_zero_approx len lerp lerp_angle linear2db load log max min move_toward nearest_po2 ord parse_json polar2cartesian posmod pow preload print_stack push_error push_warning rad2deg rand_range rand_seed randf randi randomize range_lerp round seed sign sin sinh smoothstep sqrt step_decimals stepify str str2var tan tanh to_json type_exists typeof validate_json var2bytes var2str weakref wrapf wrapi bool int float String NodePath Vector2 Rect2 Transform2D Vector3 Rect3 Plane Quat Basis Transform Color RID Object NodePath Dictionary Array PoolByteArray PoolIntArray PoolRealArray PoolStringArray PoolVector2Array PoolVector3Array PoolColorArray",literal:"true false null"},contains:[e.NUMBER_MODE,e.HASH_COMMENT_MODE,{className:"comment",begin:/"""/,end:/"""/},e.QUOTE_STRING_MODE,{variants:[{className:"function",beginKeywords:"func"},{className:"class",beginKeywords:"class"}],end:/:/,contains:[e.UNDERSCORE_TITLE_MODE]}]}}return e.exports=function(e){e.registerLanguage("gdscript",r)},e.exports.definer=r,e.exports.definer||e.exports}());</script>
	<script>hljs.highlightAll();</script>
</head>
<body>
<div class="container-fluid">
	<div class="row">
		<div class="col-12" id="topbar">
		</div>
	</div>
	<div class="row">
		<div class="col-lg-3 col-md-4 bg-dark">
			<nav class="navbar" id="sidebar">
			</nav>
		</div>

		<!-- Content -->
		<div class="col-lg-9 col-md-8 content">
			<h3>Short Hopping</h3>
			<p>Right now every time we press the jump key the player always jumps the exact same height. In order to give the player more control in their movement we can add a short hop, or ability to cut a jump short by letting go of the jump key.</p>
			<h4>Editing the Player Script</h4>
			<p>Since we are modifying jumping, lets go to the handle_jump function in the player script. We want the player to be able to reduce their vertical speed while they are in the air and currently jumping (moving up). One way of achieving short hopping would look like this:</p>
			<div><button class="copy-code-btn btn" onclick="copyCode(this);"><i class="bi bi-clipboard"></i></button>
			<pre><code class="language-gdscript">func handle_jump():
	# Jumping
	if is_on_floor() and Input.is_action_just_pressed("Jump"):
		velocity.y = jump_velocity

	# Short Hops
	if Input.is_action_just_released("Jump") and velocity.y < jump_velocity / 2:
		velocity.y = jump_velocity / 2</code></pre></div>
			<p class="hint alert">Note that we are checking if the player's velocity is less than the jump_velocity / 2. This is to make sure the player cannot get a boost by letting go of the jump key.</p>
			<p>And that's all that is needed! Pretty simple addition, but adds so much in terms of game feel. Go ahead and test out your ability to short hop, then go ahead and select another module!</p>
			<h3>Compatibility</h3>
		<p>Short conflicts with 2 other modules:</p>
		<ol>
			<li><h5>Double Jump</h5></li>
			<li><h5>Swimming</h5></li>
		</ol>
		<h4>Double Jump and Swimming</h4>
		<p>Fortunately the solution is the same for both. We just need to change the jump_velocity variables in our short hop section to current_jump_velocity.</p>
		<div><button class="copy-code-btn btn" onclick="copyCode(this);"><i class="bi bi-clipboard"></i></button>
			<pre><code class="language-gdscript"># Short Hops
if Input.is_action_just_released("Jump") and velocity.y < current_jump_velocity / 2:
		velocity.y = current_jump_velocity / 2</code></pre></div>
		</div>
	</div>
	<div class="row">
		<div class="col-12" id="bottombar">
		</div>
	</div>
</div>
<script>
	function triggerExpand() {
		expandAndHighlight('Movement','ShortHop','movementToggle')
	}
</script>
</body>
</html>